# Структура Проекта (Project Structure)

В данном документе описана организация файлов и директорий проекта Docs Q&A RAG.

## Root Directory (Корневая папка)

*   **`backend/`**: Исходный код серверной части (FastAPI).
*   **`frontend/`**: Исходный код клиентской части (Streamlit).
*   **`docs/`**: Проектная документация.
*   **`sql/`**: SQL-скрипты для миграции и настройки базы данных Supabase (включая RAG процедуры).
*   **`data/`**: (Опционально) Локальная папка для хранения тестовых файлов или временных данных.
*   **`venv/`**: Локальное виртуальное окружение Python (не пушится в git).
*   **`.env`**: Конфигурационный файл с секретами (API ключи, URL).
*   **`.gitignore`**: Список исключений для Git.
*   **`Makefile`**: Файл для автоматизации команд (запуск, установка, очистка).
*   **`README.md`**: Краткое описание проекта и "быстрый старт" (для GitHub).
*   **`RUN_INSTRUCTIONS.md`**: Подробные инструкции по запуску проекта на русском языке.
*   **`requirements.txt`**: Список Python-зависимостей.

---

## Backend (`backend/`)

Серверная часть приложения, отвечающая за API, бизнес-логику и взаимодействие с LLM.

*   **`main.py`**: Точка входа приложения (`app = FastAPI(...)`). Содержит определение API эндпоинтов (`/chat`, `/documents`).
*   **`models.py`**: Pydantic модели, описывающие структуры данных для запросов и ответов API (DTO).
*   **`services/`**: Модули бизнес-логики.
    *   **`ingestion.py`**: Логика обработки файлов (парсинг, чанкинг, сохранение в БД).
    *   **`llm.py`**: Взаимодействие с OpenAI (создание эмбеддингов, генерация ответов).
    *   **`storage.py`**: Инициализация и получение клиента Supabase.
    *   **`rerank.py`**: (Project 11) Сервис переранжирования кандидатов с помощью LLM.
    *   **`cache.py`**: (Project 11) In-memory LRU кеш для ответов чата.
    *   **`../config.py`**: Централизованная конфигурация переменных окружения.

## Frontend (`frontend/`)

Клиентский интерфейс.

*   **`app.py`**: Основной файл Streamlit приложения. Содержит верстку UI, логику загрузки файлов и чат-интерфейс.

## SQL (`sql/`)

Скрипты для инициализации базы данных.

*   **`00_setup.sql`**: Создание таблиц `sources` и `chunks`, включение расширения `vector`.
*   **`01_match_chunks.sql`**: Создание функции `match_chunks` для семантического поиска.
*   **`02_hybrid_search.sql`**: Создание функции `match_chunks_keyword` и GIN индекса для гибридного поиска.

## Documentation (`docs/`)

Подробная документация проекта.

*   **`index.md`**: Главная страница документации (оглавление).
*   **`architecture.md`**: Описание архитектуры, диаграммы потоков данных.
*   **`api.md`**: Спецификация REST API.
*   **`setup.md`**: Пошаговое руководство по установке и настройке.
*   **`tech_stack.md`**: Описание используемых технологий.
*   **`roadmap.md`**: План развития проекта.
*   **`release_notes_hybrid_search.md`**: Описание обновления с гибридным поиском.
*   **`project_structure.md`**: Текущий файл (структура проекта).
